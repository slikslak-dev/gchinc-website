# Warp AI Agent Rules for MCP Servers

## MCP Server Usage Guidelines

### Cloudflare Operations
When working with Cloudflare, use these specific MCP servers:

1. **For DNS/Zones/Domains Operations**:
   - USE: `list_zones` tool (from Ironclads MCP)
   - USE: `list_dns_records`, `create_dns_record`, `delete_dns_record` (from Ironclads MCP)
   - DO NOT USE: `zones_list`, `domain_list` (these are broken in official MCP)

2. **For Workers Operations**:
   - USE: `worker_list`, `worker_get` tools (these work in official MCP)
   - Both MCPs can handle these

3. **For Cache/SSL/Firewall**:
   - USE: Ironclads MCP tools (`purge_cache`, `get_ssl_settings`, `list_firewall_rules`)
   - These are more reliable in Ironclads

### Tool Mapping
| Operation | Use This Tool | From MCP Server |
|-----------|--------------|-----------------|
| List domains | `list_zones` | Ironclads |
| List DNS records | `list_dns_records` | Ironclads |
| Create DNS record | `create_dns_record` | Ironclads |
| List workers | `worker_list` | Either |
| Purge cache | `purge_cache` | Ironclads |
| SSL settings | `get_ssl_settings` | Ironclads |
| Firewall rules | `list_firewall_rules` | Ironclads |

### Known Issues
- Official Cloudflare MCP has response parsing errors for: `zones_list`, `domain_list`, `r2_list_buckets`, `queue_list`
- Use Ironclads MCP for all DNS and zone operations
- If a Cloudflare tool returns "data did not match any variant of untagged enum Response", switch to Ironclads MCP

### Priority Order
When multiple MCP servers offer similar functionality:
1. First try: Ironclads Cloudflare MCP (more reliable)
2. Fallback: Official Cloudflare MCP (for worker operations)
3. Last resort: Direct API calls via curl
